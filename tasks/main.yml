---
# Основные задачи для настройки fail2ban
# Файл разделен на логические группы для лучшей организации

- name: Валидация переменных
  ansible.builtin.import_tasks: validation.yml

- name: Установка fail2ban и проверка зависимостей
  ansible.builtin.import_tasks: installation.yml

- name: Создание бэкапа конфигурации
  ansible.builtin.import_tasks: backup.yml

- name: Проверка лог-файлов
  ansible.builtin.import_tasks: logs-check.yml

- name: Настройка конфигурации
  ansible.builtin.import_tasks: config.yml

- name: Управление состоянием сервиса
  ansible.builtin.import_tasks: service.yml

- name: Проверка статуса и синтаксиса
  ansible.builtin.import_tasks: check.yml

- name: Логирование действий
  ansible.builtin.import_tasks: logging.yml

- name: Сбор метрик и статистики
  ansible.builtin.import_tasks: metrics.yml

- name: Настройка мониторинга
  ansible.builtin.import_tasks: monitoring.yml
